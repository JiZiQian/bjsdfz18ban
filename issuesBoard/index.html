<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>留言板</title>
	<link rel="stylesheet" type="text/css" href="https://jiziqian.github.io/style.css">
	<script>
		let texts;
		let ajaxAsk;
		if(window.XMLHttpRequest) ajaxAsk=new XMLHttpRequest();
		else ajaxAsk=new ActiveXObject("Microsoft.XMLHTTP");
		texts=ajaxAsk.responseText;
		document.getElementById("texts").innerHTML=texts;
		
		function onSubmit(){
			let text=document.getElementById("text").value;
			let ajaxSub;
			if(window.XMLHttpRequest) ajaxSub=new XMLHttpRequest();
			else ajaxSub=new ActiveXObject("Microsoft.XMLHTTP");
			ajaxSub.onreadystatechange=function(){}
			ajaxSub.open("POST","http://localhost:1801",true);
			ajaxSub.setRequestHeader("Content-type","application/x-www-form-urlencoded");
			ajaxSub.send("text="+text);
			document.getElementById("text").value="";
		}
	</script>
</head>
<body>
	<div class="head">
		<h1>留言板</h1>
	</div>
	<div id="texts" style="background-color:#f1f1f1"></div>
	<div style="float:right;width:38%" class="submit">
		留言内容:<br/>
		<textarea id="text" placeholder="此处输入留言内容" style="width:95%" onscroll="this.rows++;"></textarea><br/>
		<button type="button" onclick="onSubmit()">提交</button>
	</div>
</body>
</html>
